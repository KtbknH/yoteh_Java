// Variables (ajuste si besoin)
$font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",
            Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
$bg-page: #f7fafc;            // gris clair
$card-bg: #ffffff;            // blanc
$muted: #6b7280;              // gris texte secondaire
$text: #111827;               // gris très foncé
$primary: #4f46e5;            // indigo-ish (cta)
$primary-dark: darken($primary, 10%);
$error-bg: #fff1f2;
$error-text: #9f1239;
$radius: 12px;
$shadow-soft: 0 10px 25px rgba(16,24,40,0.06);
$max-w: 420px;

// Mixins
@mixin focus-ring($color) {
  outline: none;
  box-shadow: 0 0 0 4px rgba(red($color), green($color), blue($color), 0.08);
  border-color: $color;
}

// Reset & base
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: $font-sans;
  background: $bg-page;
  color: $text;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.35;
  font-size: 15px;
}

/* Container centré */
.min-h-screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3rem 1rem;
}

/* Card */
.max-w-md {
  width: 100%;
  max-width: $max-w;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), $card-bg);
  border-radius: 14px;
  padding: 2.25rem;
  box-shadow: $shadow-soft;
  border: 1px solid rgba(15, 23, 42, 0.03);
}

/* Header */
.text-center { text-align: center; }
h2 {
  margin: 0;
  font-size: 1.875rem; // ~30px
  line-height: 1.05;
  font-weight: 800;
  color: $text;
  letter-spacing: -0.02em;
}
.text-sm { font-size: 0.875rem; color: $muted; }

/* Form layout */
form {
  margin-top: 1.5rem;
  display: block;
}

/* Spacing helpers (kept small set to avoid changing HTML) */
.space-y-4 > * + * { margin-top: 1rem; }
.space-y-8 > * + * { margin-top: 2rem; }

/* Grid for name fields */
.grid { display: grid; }
.grid.grid-cols-2 { grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }

/* Labels */
label {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: darken($muted, 10%);
}

/* Inputs */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="password"] {
  width: 100%;
  display: block;
  margin-top: .4rem;
  padding: .625rem .75rem;
  font-size: 0.95rem;
  border-radius: 10px;
  border: 1px solid rgba(15,23,42,0.08);
  background: #fff;
  box-shadow: inset 0 1px 0 rgba(15,23,42,0.02);
  transition: box-shadow .12s ease, border-color .12s ease, transform .06s;
}

/* focus / error states */
input:focus {
  @include focus-ring($primary);
  transform: translateY(-1px);
}
input[disabled] { opacity: .6; cursor: not-allowed; }

/* Error style overrides for classes toggled by Angular (border-red-300) */
input.border-red-300 {
  border-color: rgba(239,68,68,0.9);
  box-shadow: 0 0 0 4px rgba(239,68,68,0.06);
}

/* Helper text for errors */
p.text-red-600 {
  margin: 0.5rem 0 0 0;
  color: $error-text;
  font-size: 0.85rem;
}

/* Terms checkbox row */
.flex { display: flex; align-items: center; }
.flex.items-start { align-items: flex-start; }
input[type="checkbox"] { width: 1.05rem; height: 1.05rem; margin: 0; }

/* Links inside form */
a { color: $primary; text-decoration: none; font-weight: 600; }
a:hover { color: $primary-dark; text-decoration: underline; }

/* Submit button */
button[type="submit"] {
  margin-top: 1rem;
  width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .65rem .85rem;
  border-radius: 10px;
  border: none;
  font-weight: 700;
  font-size: 0.95rem;
  color: #fff;
  background: linear-gradient(180deg, $primary, $primary-dark);
  cursor: pointer;
  box-shadow: 0 8px 20px rgba(79,70,229,0.18);
  transition: transform .08s ease, box-shadow .12s ease, opacity .12s;
}
button[type="submit"]:hover { transform: translateY(-2px); }
button[disabled] {
  opacity: .5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Loading spinner (svg animate-spin exists in html classes) */
.animate-spin {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Small controls (eye buttons inside password fields) */
.relative { position: relative; }
.relative .absolute {
  position: absolute;
  right: 0.6rem;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0.125rem;
  display: flex;
  align-items: center;
  justify-content: center;
}
.relative .absolute svg { width: 1.15rem; height: 1.15rem; color: rgba(55,65,81,.6); }
.relative .absolute:hover svg { color: rgba(55,65,81,.9); }

/* Global error box */
.rounded-md.bg-red-50 {
  background: $error-bg;
  border-radius: 10px;
  padding: 0.75rem;
  border: 1px solid rgba(159,18,57,0.06);
}
.rounded-md .text-red-800, .rounded-md p {
  color: $error-text;
  margin: 0;
  font-weight: 600;
}

/* Responsive tweaks */
@media (max-width: 480px) {
  .max-w-md { padding: 1.2rem; border-radius: 10px; }
  h2 { font-size: 1.4rem; }
  .grid.grid-cols-2 { grid-template-columns: 1fr; }
}

/* Small visual polish to mimic site style */
.max-w-md::after {
  content: "";
  display: block;
  height: 1px;
  margin-top: 1.25rem;
  background: linear-gradient(90deg, rgba(15,23,42,0.02), rgba(15,23,42,0.04));
}
